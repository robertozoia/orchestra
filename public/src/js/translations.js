// Translations for Orchestra Instrument Trainer
const TRANSLATIONS = {
    de: {
        // App Title
        appTitle: 'Orchester-Instrumenten-Trainer',
        appSubtitle: 'Lerne, Orchesterinstrumente nach Geh√∂r zu erkennen',

        // User Screen
        selectOrCreateUser: 'Benutzer ausw√§hlen oder erstellen',
        selectUser: '-- Benutzer ausw√§hlen --',
        createNewUser: 'Neuen Benutzer erstellen',
        enterYourName: 'Gib deinen Namen ein',
        createButton: 'Erstellen',
        startLearning: 'Mit dem Lernen beginnen',

        // User Stats
        yourProgress: 'Dein Fortschritt',
        mastered: 'Gemeistert',
        learning: 'Am Lernen',
        totalCorrect: 'Gesamt Richtig',
        totalWrong: 'Gesamt Falsch',
        resetProgress: 'Meinen Fortschritt zur√ºcksetzen',

        // Quiz Screen
        cardOf: 'Karte',
        of: 'von',
        exitQuiz: 'Quiz beenden',
        whichInstrument: 'Welches Instrument ist das?',
        playSound: 'üîä Klang abspielen',

        // Feedback
        correct: 'Richtig!',
        thatsA: 'Das ist ein',
        notQuite: 'Nicht ganz...',
        thatWasA: 'Das war ein',
        playAgain: 'üîä Nochmal abspielen',
        stop: '‚è∏Ô∏è Stop',
        nextCard: 'N√§chste Karte',

        // Round Complete
        roundComplete: 'Runde abgeschlossen!',
        correctAnswers: 'Richtig',
        wrongAnswers: 'Falsch',
        masteredNew: 'üéØ Du hast',
        newInstruments: 'neue(s) Instrument(e) gemeistert!',
        continueLearning: 'Weiter lernen',
        backToMenu: 'Zur√ºck zum Men√º',

        // Instruments
        instruments: {
            violin: 'Violine',
            viola: 'Bratsche',
            cello: 'Cello',
            'double-bass': 'Kontrabass',
            trumpet: 'Trompete',
            trombone: 'Posaune',
            'french-horn': 'Waldhorn',
            tuba: 'Tuba',
            flute: 'Fl√∂te',
            clarinet: 'Klarinette',
            oboe: 'Oboe',
            bassoon: 'Fagott',
            timpani: 'Pauke',
            'snare-drum': 'Kleine Trommel',
            xylophone: 'Xylophon',
            cymbals: 'Becken'
        },

        // Alerts
        enterName: 'Bitte gib einen Namen ein',
        welcome: 'Willkommen',
        userExists: 'Benutzer existiert bereits',
        resetConfirm: 'Bist du sicher, dass du deinen gesamten Fortschritt zur√ºcksetzen m√∂chtest? Dies kann nicht r√ºckg√§ngig gemacht werden.',
        resetSuccess: 'Fortschritt erfolgreich zur√ºckgesetzt!',
        allMastered: 'Gl√ºckwunsch! Du hast alle Instrumente gemeistert!',
        noCards: 'Keine Karten zum Anzeigen. Du hast vielleicht alles gemeistert!',
        exitConfirm: 'Bist du sicher, dass du beenden m√∂chtest? Dein Fortschritt wird gespeichert.'
    },

    es: {
        // App Title
        appTitle: 'Entrenador de Instrumentos de Orquesta',
        appSubtitle: 'Aprende a reconocer instrumentos de orquesta por su sonido',

        // User Screen
        selectOrCreateUser: 'Seleccionar o crear usuario',
        selectUser: '-- Seleccionar Usuario --',
        createNewUser: 'Crear nuevo usuario',
        enterYourName: 'Ingresa tu nombre',
        createButton: 'Crear',
        startLearning: 'Comenzar a Aprender',

        // User Stats
        yourProgress: 'Tu Progreso',
        mastered: 'Dominados',
        learning: 'Aprendiendo',
        totalCorrect: 'Total Correctas',
        totalWrong: 'Total Incorrectas',
        resetProgress: 'Reiniciar Mi Progreso',

        // Quiz Screen
        cardOf: 'Tarjeta',
        of: 'de',
        exitQuiz: 'Salir del Quiz',
        whichInstrument: '¬øQu√© instrumento es este?',
        playSound: 'üîä Reproducir Sonido',

        // Feedback
        correct: '¬°Correcto!',
        thatsA: 'Eso es un',
        notQuite: 'No exactamente...',
        thatWasA: 'Eso era un',
        playAgain: 'üîä Reproducir Otra Vez',
        stop: '‚è∏Ô∏è Detener',
        nextCard: 'Siguiente Tarjeta',

        // Round Complete
        roundComplete: '¬°Ronda Completada!',
        correctAnswers: 'Correctas',
        wrongAnswers: 'Incorrectas',
        masteredNew: 'üéØ ¬°Has dominado',
        newInstruments: 'nuevo(s) instrumento(s)!',
        continueLearning: 'Continuar Aprendiendo',
        backToMenu: 'Volver al Men√∫',

        // Instruments
        instruments: {
            violin: 'Viol√≠n',
            viola: 'Viola',
            cello: 'Violonchelo',
            'double-bass': 'Contrabajo',
            trumpet: 'Trompeta',
            trombone: 'Tromb√≥n',
            'french-horn': 'Trompa',
            tuba: 'Tuba',
            flute: 'Flauta',
            clarinet: 'Clarinete',
            oboe: 'Oboe',
            bassoon: 'Fagot',
            timpani: 'T√≠mpano',
            'snare-drum': 'Caja',
            xylophone: 'Xil√≥fono',
            cymbals: 'Platillos'
        },

        // Alerts
        enterName: 'Por favor ingresa un nombre',
        welcome: 'Bienvenido',
        userExists: 'El usuario ya existe',
        resetConfirm: '¬øEst√°s seguro de que quieres reiniciar todo tu progreso? Esto no se puede deshacer.',
        resetSuccess: '¬°Progreso reiniciado exitosamente!',
        allMastered: '¬°Felicitaciones! ¬°Has dominado todos los instrumentos!',
        noCards: 'No hay tarjetas para mostrar. ¬°Puede que hayas dominado todo!',
        exitConfirm: '¬øEst√°s seguro de que quieres salir? Tu progreso ser√° guardado.'
    },

    en: {
        // App Title
        appTitle: 'Orchestra Instrument Trainer',
        appSubtitle: 'Learn to recognize orchestra instruments by sound',

        // User Screen
        selectOrCreateUser: 'Select or Create User',
        selectUser: '-- Select User --',
        createNewUser: 'Create New User',
        enterYourName: 'Enter your name',
        createButton: 'Create',
        startLearning: 'Start Learning',

        // User Stats
        yourProgress: 'Your Progress',
        mastered: 'Mastered',
        learning: 'Learning',
        totalCorrect: 'Total Correct',
        totalWrong: 'Total Wrong',
        resetProgress: 'Reset My Progress',

        // Quiz Screen
        cardOf: 'Card',
        of: 'of',
        exitQuiz: 'Exit Quiz',
        whichInstrument: 'Which instrument is this?',
        playSound: 'üîä Play Sound',

        // Feedback
        correct: 'Correct!',
        thatsA: "That's a",
        notQuite: 'Not quite...',
        thatWasA: 'That was a',
        playAgain: 'üîä Play Again',
        stop: '‚è∏Ô∏è Stop',
        nextCard: 'Next Card',

        // Round Complete
        roundComplete: 'Round Complete!',
        correctAnswers: 'Correct',
        wrongAnswers: 'Wrong',
        masteredNew: "üéØ You've mastered",
        newInstruments: 'new instrument(s)!',
        continueLearning: 'Continue Learning',
        backToMenu: 'Back to Menu',

        // Instruments
        instruments: {
            violin: 'Violin',
            viola: 'Viola',
            cello: 'Cello',
            'double-bass': 'Double Bass',
            trumpet: 'Trumpet',
            trombone: 'Trombone',
            'french-horn': 'French Horn',
            tuba: 'Tuba',
            flute: 'Flute',
            clarinet: 'Clarinet',
            oboe: 'Oboe',
            bassoon: 'Bassoon',
            timpani: 'Timpani',
            'snare-drum': 'Snare Drum',
            xylophone: 'Xylophone',
            cymbals: 'Cymbals'
        },

        // Alerts
        enterName: 'Please enter a name',
        welcome: 'Welcome',
        userExists: 'User already exists',
        resetConfirm: 'Are you sure you want to reset all your progress? This cannot be undone.',
        resetSuccess: 'Progress reset successfully!',
        allMastered: 'Congratulations! You have mastered all instruments!',
        noCards: 'No cards to show. You might have mastered everything!',
        exitConfirm: 'Are you sure you want to exit? Your progress will be saved.'
    }
};

// Get translated instrument name
function getInstrumentName(instrumentId, lang = 'de') {
    const translations = TRANSLATIONS[lang] || TRANSLATIONS.de;
    return translations.instruments[instrumentId] || instrumentId;
}

// Get translation
function t(key, lang = 'de') {
    const translations = TRANSLATIONS[lang] || TRANSLATIONS.de;
    const keys = key.split('.');
    let value = translations;

    for (const k of keys) {
        value = value[k];
        if (value === undefined) return key;
    }

    return value;
}
